<ion-header [translucent]="true">
  <ion-toolbar>

    <ion-buttons slot="start">
      <ion-back-button defaultHref="search"></ion-back-button>
    </ion-buttons>

    <ion-title *ngIf="metadata">
      <a href="/">StatusAPI</a> - {{metadata.action}}
    </ion-title>
  </ion-toolbar>
</ion-header>


<ion-content>

  <ion-grid>

    <ion-row *ngIf="metadata">
      <ion-col>
        <div class="ion-text-center">
          <b>Service: </b>{{metadata.service}}
        </div>
      </ion-col>

      <ion-col>
        <div class="ion-text-center">
          <b>Region: </b>{{metadata.region}}
        </div>
      </ion-col>

      <ion-col>
        <div class="ion-text-center">
          <b>API: </b>{{metadata.api}}
        </div>
      </ion-col>

      <ion-col>
        <div *ngIf="healthiness" class="ion-text-center">
          <b>State: </b>{{healthiness}}
        </div>
      </ion-col>
    </ion-row>



    <ion-row>
      <ion-col>
        <div *ngIf="metadata" class="ion-text-center">
          {{metadata.description}}
        </div>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12" size-sm>
        <canvas #lineCanvasLatency></canvas>
      </ion-col>

      <ion-col size="12" size-sm>
        <canvas #lineCanvasOk></canvas>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col class="ion-text-center">
        <b>Latest Failures</b>

        <ion-list inset="false" *ngFor="let failure of latestFailures">
          <ion-list-header>
            <ion-datetime displayFormat="YYYY-MM-DD HH:mm UTC" readonly="true"
              value="{{ failure.startDate }}">
            </ion-datetime>
          </ion-list-header>
          <ion-item>
            <ion-item>{{ failure.message }}</ion-item>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>

  </ion-grid>



</ion-content>